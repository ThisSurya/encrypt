<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
  <div class="form">
      
    <ul class="tab-group">
      <li class="tab active"><a href="#signup">Enkripsi</a></li>
      <li class="tab"><a href="#login">Dekripsi</a></li>
    </ul>
    
    <div class="tab-content">
      <div id="signup">   
        <h1 style="color: white;" class="justify-content-center">Encrypt file</h1>
        
        <form action="/encrypt" method="post" enctype="multipart/form-data" onsubmit="ChangeAttribute()">
        {{ csrf_exempt }}
        <div class="field-wrap">
          <input type="file" class="form-control" required autocomplete="off" name="file"/>
        </div>

        <div class="field-wrap">
          <input type="hidden" required autocomplete="off" value="{{ key }}" id="showkey" name="key" readonly/>
        </div>
        
        <button type="submit" class="button button-block"/>encrypt!</button>
        
        </form>

      </div>
      
      <div id="login">   
        <h1 style="color: white;">Dekripsi</h1>
        
        <form action="/decrypt" method="post" enctype="multipart/form-data" onsubmit="ChangeAttribute()">
          {{ csrf_exempt }}
          <div class="field-wrap">
            <label>
              <span class="req">*</span>
            </label>
            <input type="file" class="form-control" required autocomplete="off" name="file" required/>
          </div>
        
          <div class="field-wrap">
            <label>
              key token<span class="req">*</span>
            </label>
            <input type="password" required autocomplete="off" id="showkey" name="key"/>
          </div>

        <button class="button button-block"/>Dekrip!!!</button>
        
        </form>

      </div>
      
    </div><!-- tab-content -->
    
  </div> <!-- /form -->
</body>
    <script>

$(".form")
  .find("input, textarea")
  .on("keyup blur focus", function (e) {
    var $this = $(this),
      label = $this.prev("label");

    if (e.type === "keyup") {
      if ($this.val() === "") {
        label.removeClass("active highlight");
      } else {
        label.addClass("active highlight");
      }
    } else if (e.type === "blur") {
      if ($this.val() === "") {
        label.removeClass("active highlight");
      } else {
        label.removeClass("highlight");
      }
    } else if (e.type === "focus") {
      if ($this.val() === "") {
        label.removeClass("highlight");
      } else if ($this.val() !== "") {
        label.addClass("highlight");
      }
    }
  });

$(".tab a").on("click", function (e) {
  e.preventDefault();

  $(this).parent().addClass("active");
  $(this).parent().siblings().removeClass("active");

  target = $(this).attr("href");

  $(".tab-content > div").not(target).hide();

  $(target).fadeIn(200);
});

        function ChangeAttribute(){
            document.getElementById("showkey").type = "text";
        }
    </script>
</html>